<button type="button"
        class="inline-flex w-auto min-w-20 items-center justify-center text-wrap rounded-lg border border-rose-600 @BackgroundColor px-5 py-2.5 text-center text-sm font-medium @TextColor shadow-lg dark:@BackgroundColorDark dark:@TextColorDark dark:border-yellow-300 sm:px-2.5"
        @onclick="OnClick">
    @Text
</button>

@code {

    [Parameter]
    public SelectModel? Select { get; set; }

    [Parameter]
    public string Text { get; set; } = "";

    [Parameter]
    public string BackgroundColor { get; set; } = "bg-white-main";

    [Parameter]
    public string BackgroundColorDark { get; set; } = "bg-dark-main";

    [Parameter]
    public string TextColor { get; set; } = "text-white-action";

    [Parameter]
    public string TextColorDark { get; set; } = "text-yellow-400";

    [Parameter]
    public IRelayCommand RaiseSearchCommand { get; set; }

    private void OnClick()
    {
        var isSelected = !Select?.IsSelected ?? true;

        UpdateElement(isSelected);

        RaiseSearchCommand.Execute(null);
    }

    private void UpdateElement(bool isSelected)
    {
        if (Select != null)
        {
            Console.WriteLine($"UpdateElement: {isSelected} -> {Select.IsSelected}");
            Select.IsSelected = isSelected;
        }

        BackgroundColor = isSelected ? "bg-white-action" : "bg-white-main";
        BackgroundColorDark = isSelected ? "bg-dark-action" : "bg-dark-main";
        TextColor = isSelected ? "text-white-main" : "text-white-action";
        TextColorDark = isSelected ? "text-white-main" : "text-dark-action";
    }

    protected override void OnParametersSet()
    {
        if (Select == null)
        {
            UpdateElement(false);
        }
        else
        {
            UpdateElement(Select.IsSelected);
        }

        base.OnParametersSet();
    }

}