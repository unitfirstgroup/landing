<div class="bg-white-main/50 grid grid-cols-1 gap-4 border-b border-t pb-2 pl-2 pr-2 pt-2 lg:grid-cols-2 lg:pb-20 lg:pl-24 lg:pr-24 lg:pt-20 dark:bg-dark-main">
    <h1 class="w-full text-center text-3xl text-black lg:w-4/6 lg:text-left dark:text-white-main">@DataContext.Title</h1>
    <div class="flex flex-col">
        <h2 class="text-center text-lg font-bold lg:text-left">@DataContext.CurrentFeedback.Author</h2>
        <h3 class="pt-2">@DataContext.CurrentFeedback.Main</h3>
        <h4 class="pt-8 lg:pt-4">@DataContext.CurrentFeedback.Details</h4>
        <a class="text-white-action justify-center py-2 dark:text-dark-action">
            <span class="animate-ping duration-700">>>></span>
        </a>
    </div>
</div>

@code {


    [Parameter]
    public FeedbackComponentModel DataContext { get; set; }

    private int _currentCount = 0;
    private Timer _timer;

    protected override void OnInitialized()
    {
        DataContext.CurrentFeedback = DataContext.FeedbackItems.First();

        _timer = new Timer(7000);
        _timer.Elapsed += OnTimedEvent;
        _timer.AutoReset = true;
        _timer.Start();
    }

    private void OnTimedEvent(object? sender, ElapsedEventArgs e)
    {
        _currentCount++;
        if (_currentCount >= DataContext.FeedbackItems.Count)
        {
            _currentCount = 0;
        }

        DataContext.CurrentFeedback = DataContext.FeedbackItems.ElementAt(_currentCount);
        StateHasChanged();
    }

}