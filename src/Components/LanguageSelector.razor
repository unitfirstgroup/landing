@inject IJSRuntime JSRuntime
@inject NavigationManager Nav

<div class="flex flex-row @Theme.Dark bg-white text-black dark:bg-gray-900 dark:text-white">

    <select @bind="Culture">

        @foreach (var language in supportedLanguages)
        {
            <option class="text-black" value="@language">@language.DisplayName</option>
        }

    </select>

</div>

@code
{
    [CascadingParameter]
    public Theme? Theme { get; set; }

    CultureInfo[] supportedLanguages = new[]

    {

        new CultureInfo("en-US"),

        new CultureInfo("ru-RU"),

        new CultureInfo("sp-SP"),

    };

    CultureInfo Culture

    {

        get => CultureInfo.CurrentCulture;

        set

        {

            if (CultureInfo.CurrentCulture != value)

            {

                var js = (IJSInProcessRuntime)JSRuntime;

                js.InvokeVoid("appCulture.set", value.Name);

                Nav.NavigateTo(Nav.Uri, forceLoad: true);

            }

        }

    }

}